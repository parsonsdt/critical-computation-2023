<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="robots" content="noindex, nofollow">
    <title>Password Protected Page</title>
    <style>
        html, body {
            margin: 0;
            width: 100%;
            height: 100%;
            font-family: Arial, Helvetica, sans-serif;
        }
        #dialogText {
            color: white;
            background-color: #333333;
        }
        
        #dialogWrap {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: table;
            background-color: #EEEEEE;
        }
        
        #dialogWrapCell {
            display: table-cell;
            text-align: center;
            vertical-align: middle;
        }
        
        #mainDialog {
            max-width: 400px;
            margin: 5px;
            border: solid #AAAAAA 1px;
            border-radius: 10px;
            box-shadow: 3px 3px 5px 3px #AAAAAA;
            margin-left: auto;
            margin-right: auto;
            background-color: #FFFFFF;
            overflow: hidden;
            text-align: left;
        }
        #mainDialog > * {
            padding: 10px 30px;
        }
        #passArea {
            padding: 20px 30px;
            background-color: white;
        }
        #passArea > * {
            margin: 5px auto;
        }
        #pass {
            width: 100%;
            height: 40px;
            font-size: 30px;
        }
        
        #messageWrapper {
            float: left;
            vertical-align: middle;
            line-height: 30px;
        }
        
        .notifyText {
            display: none;
        }
        
        #invalidPass {
            color: red;
        }
        
        #success {
            color: green;
        }
        
        #submitPass {
            font-size: 20px;
            border-radius: 5px;
            background-color: #E7E7E7;
            border: solid gray 1px;
            float: right;
            cursor: pointer;
        }
        #contentFrame {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
        #attribution {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            text-align: center;
            padding: 10px;
            font-weight: bold;
            font-size: 0.8em;
        }
        #attribution, #attribution a {
            color: #999;
        }
        .error {
            display: none;
            color: red;
        }
    </style>
  </head>
  <body>
    <iframe id="contentFrame" frameBorder="0" allowfullscreen></iframe>
    <div id="dialogWrap">
        <div id="dialogWrapCell">
            <div id="mainDialog">
                <div id="dialogText">This page is password protected.</div>
                <div id="passArea">
                    <p id="passwordPrompt">Password</p>
                    <input id="pass" type="password" name="pass" autofocus>
                    <div>
                        <span id="messageWrapper">
                            <span id="invalidPass" class="error">Sorry, please try again.</span>
                            <span id="trycatcherror" class="error">Sorry, something went wrong.</span>
                            <span id="success" class="notifyText">Success!</span>
                            &nbsp;
                        </span>
                        <button id="submitPass" type="button">Submit</button>
                        <div style="clear: both;"></div>
                    </div>
                </div>
                <div id="securecontext" class="error">
                    <p>
                        Sorry, but password protection only works over a secure connection. Please load this page via HTTPS.
                    </p>
                </div>
                <div id="nocrypto" class="error">
                    <p>
                        Your web browser appears to be outdated. Please visit this page using a modern browser.
                    </p>
                </div>
            </div>
        </div>
    </div>
    <div id="attribution">
        Protected by <a href="https://www.maxlaumeister.com/pagecrypt/">PageCrypt</a>
    </div>
    <script>
    (function() {

        var pl = "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";
        
        var submitPass = document.getElementById('submitPass');
        var passEl = document.getElementById('pass');
        var invalidPassEl = document.getElementById('invalidPass');
        var trycatcherror = document.getElementById('trycatcherror');
        var successEl = document.getElementById('success');
        var contentFrame = document.getElementById('contentFrame');
        
        // Sanity checks

        if (pl === "") {
            submitPass.disabled = true;
            passEl.disabled = true;
            alert("This page is meant to be used with the encryption tool. It doesn't work standalone.");
            return;
        }

        if (!isSecureContext) {
            document.querySelector("#passArea").style.display = "none";
            document.querySelector("#securecontext").style.display = "block";
            return;
        }

        if (!crypto.subtle) {
            document.querySelector("#passArea").style.display = "none";
            document.querySelector("#nocrypto").style.display = "block";
            return;
        }
        
        function str2ab(str) {
            var ustr = atob(str);
            var buf = new ArrayBuffer(ustr.length);
            var bufView = new Uint8Array(buf);
            for (var i=0, strLen=ustr.length; i < strLen; i++) {
                bufView[i] = ustr.charCodeAt(i);
            }
            return bufView;
        }

        async function deriveKey(salt, password) {
            const encoder = new TextEncoder()
            const baseKey = await crypto.subtle.importKey(
                'raw',
                encoder.encode(password),
                'PBKDF2',
                false,
                ['deriveKey'],
            )
            return await crypto.subtle.deriveKey(
                { name: 'PBKDF2', salt, iterations: 100000, hash: 'SHA-256' },
                baseKey,
                { name: 'AES-GCM', length: 256 },
                true,
                ['decrypt'],
            )
        }
        
        async function doSubmit(evt) {
            submitPass.disabled = true;
            passEl.disabled = true;

            let iv, ciphertext, key;
            
            try {
                var unencodedPl = str2ab(pl);

                const salt = unencodedPl.slice(0, 32)
                iv = unencodedPl.slice(32, 32 + 16)
                ciphertext = unencodedPl.slice(32 + 16)

                key = await deriveKey(salt, passEl.value);
            } catch (e) {
                trycatcherror.style.display = "inline";
                console.error(e);
                return;
            }

            try {
                const decryptedArray = new Uint8Array(
                    await crypto.subtle.decrypt({ name: 'AES-GCM', iv }, key, ciphertext)
                );

                let decrypted = new TextDecoder().decode(decryptedArray);

                if (decrypted === "") throw "No data returned";

                const basestr = '<base href="." target="_top">';
                const anchorfixstr = `
                    <script>
                        Array.from(document.links).forEach((anchor) => {
                            const href = anchor.getAttribute("href");
                            if (href.startsWith("#")) {
                                anchor.addEventListener("click", function(e) {
                                    e.preventDefault();
                                    const targetId = this.getAttribute("href").substring(1);
                                    const targetEl = document.getElementById(targetId);
                                    targetEl.scrollIntoView();
                                });
                            }
                        });
                    <\/script>
                `;
                
                // Set default iframe link targets to _top so all links break out of the iframe
                if (decrypted.includes("<head>")) decrypted = decrypted.replace("<head>", "<head>" + basestr);
                else if (decrypted.includes("<!DOCTYPE html>")) decrypted = decrypted.replace("<!DOCTYPE html>", "<!DOCTYPE html>" + basestr);
                else decrypted = basestr + decrypted;

                // Fix fragment links
                if (decrypted.includes("</body>")) decrypted = decrypted.replace("</body>", anchorfixstr + '</body>');
                else if (decrypted.includes("</html>")) decrypted = decrypted.replace("</html>", anchorfixstr + '</html>');
                else decrypted = decrypted + anchorfixstr;
                
                contentFrame.srcdoc = decrypted;
                
                successEl.style.display = "inline";
                setTimeout(function() {
                    dialogWrap.style.display = "none";
                }, 1000);
            } catch (e) {
                invalidPassEl.style.display = "inline";
                passEl.value = "";
                submitPass.disabled = false;
                passEl.disabled = false;
                console.error(e);
                return;
            }
        }
        
        submitPass.onclick = doSubmit;
        passEl.onkeypress = function(e){
            if (!e) e = window.event;
            var keyCode = e.keyCode || e.which;
            invalidPassEl.style.display = "none";
            if (keyCode == '13'){
              // Enter pressed
              doSubmit();
              return false;
            }
        }
    })();
    </script>
  </body>
</html>
